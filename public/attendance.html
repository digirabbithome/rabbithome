<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>出勤日記</title>
  <link rel="stylesheet" href="/css/attendance.css" />
  <script type="module" src="/js/attendance.js?v=20250814-multiseg-sum"?v=20250813-notes-server-verify-fix"?v=20250813-notes-server-verify"?v=20250813-notes-priority-fix2?v=20250813-skip-empty-notes-v2"?v=20250813-fix-root0-overwrite-v2"?v=20250813-highlight-logger"?v=20250813-remove-root0"?v=20250813-write-logger"?v=20250813-migration-guard"?v=20250813-fix-viewing-migrate"?v=20250813-toast-fix"?v=20250813-admin-pen-store"?v=20250812-stable"?v=20250812-debug3"?v=20250812-debug2"?v=20250812-debug"?v=20250812-append-blur""></script>
</head>
<body>
  <div class="wrap">
    <header class="topbar">
      <h1 id="pageTitle">出勤日記</h1>
      <div class="who" id="who"></div>
    </header>

    <section class="controls">
      <div class="punch" id="punchBar">
        <button id="btnIn">上班打卡</button>
        <button id="btnOut" class="secondary">下班打卡</button>
        <span class="now" id="nowTPE"></span>
      </div>
      <div class="month-switch">
        <button id="prevM">‹</button>
        <input type="month" id="monthPicker" />
        <button id="nextM">›</button>
        <span class="sum" id="monthSum">本月總工時：—　差異合計：—</span>
      </div>
    </section>

    <section class="table card">
      <div class="thead">
        <span>日期</span><span>上班</span><span>下班</span><span>工時</span><span>差異(±)</span><span>假別</span><span>備註</span>
      </div>
      <div class="tbody" id="tbody">載入中…</div>
    </section>

    <section class="legend">
      <small>＊差異：加班以 0.5h 捨去，不足以 0.5h 進位；平日 9h、週末 7h。公司層級 0h 會顯示「公司休假（名稱）」且不占月休1～7。上班後若尚未下班，會先以「—」顯示下班時間與 0.0h。</small>
    </section>

    <div id="toast" class="toast" style="display:none"></div>
  </div>
</body>
</html>
