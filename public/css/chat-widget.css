:root { --pink:#f7cfe1; --pink-strong:#f39bc1; --gray:#6b7280; --border:#e5e7eb; --shadow:0 10px 30px rgba(0,0,0,.12); }
.rh-chat-fab{position:fixed;right:18px;bottom:18px;width:56px;height:56px;border-radius:50%;background:var(--pink-strong);color:#fff;display:flex;align-items:center;justify-content:center;font-size:22px;cursor:pointer;box-shadow:var(--shadow);z-index:2147483000}
.rh-chat-fab .badge{position:absolute;top:-6px;right:-6px;min-width:18px;height:18px;padding:0 5px;background:#ff3b30;color:#fff;border-radius:999px;font-size:12px;line-height:18px;text-align:center;display:none}
.rh-chat-panel{position:fixed;right:18px;bottom:84px;width:360px;height:520px;background:#fff;border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);display:none;overflow:hidden;z-index:2147483001;font-family:"Noto Sans TC",system-ui,-apple-system,"Segoe UI",Roboto,"Microsoft JhengHei",sans-serif}
.rh-chat-header{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;background:var(--pink);border-bottom:1px solid var(--border)}
.rh-chat-tabs{display:flex;gap:6px}
.rh-tab{padding:6px 10px;border-radius:10px;cursor:pointer;font-weight:600;color:#c14b7d}
.rh-tab.active{background:#fff;border:1px solid var(--border)}
.rh-chat-body{display:flex;height:calc(100% - 52px)}
/* Sidebar for people list */
.rh-chat-sidebar{width:146px;border-right:1px solid var(--border);display:flex;flex-direction:column;overflow:auto;background:#fff}
.rh-user{padding:8px 10px;cursor:pointer;border-bottom:1px solid #f3f4f6;display:flex;align-items:center;gap:8px}
.rh-user:hover{background:#fdf2f8}
.rh-user.active{background:#fee2e2}
.rh-user .dot{width:8px;height:8px;border-radius:50%;background:#9ca3af;flex:0 0 auto}
.rh-user .name{font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;}
/* Main chat */
.rh-chat-main{flex:1;display:flex;flex-direction:column;min-width:0}
.rh-msgs{flex:1;overflow:auto;padding:10px 12px;background:#fff}
.rh-msg{margin:6px 0;max-width:82%}
.rh-msg.me{margin-left:auto;text-align:right}
.rh-bubble{display:inline-block;padding:8px 10px;border-radius:12px;border:1px solid var(--border);background:#fff;word-break:break-word}
.rh-msg.me .rh-bubble{background:#fef3f8;border-color:#f9a8d4}
.rh-meta{font-size:11px;color:#9ca3af;margin-top:2px}
/* Input row fixed */
.rh-input{display:flex;gap:8px;padding:10px;border-top:1px solid var(--border);background:#fafafa}
.rh-input input{flex:1;padding:10px 12px;font-size:14px;line-height:1.4;min-height:40px;border:1px solid var(--border);border-radius:10px;box-sizing:border-box;-webkit-appearance:none}
.rh-input button{padding:10px 14px;border:none;border-radius:10px;background:var(--pink-strong);color:#fff;font-weight:700;cursor:pointer}
@media (max-width:420px){ .rh-chat-panel{right:12px;left:12px;width:auto;height:70vh} .rh-chat-sidebar{width:40%} }

/* --- 新增：每位同事右側的紅色未讀數 --- */
.rh-user .dm-badge{
  display:none;
  margin-left:8px;
  padding:0 6px;
  min-width:18px;
  height:18px;
  line-height:18px;
  font-size:12px;
  border-radius:999px;
  background:#ff3b30;
  color:#fff;
  text-align:center;
}
.rh-user.has-unread .dm-badge{ display:inline-block; }
