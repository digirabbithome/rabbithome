<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>對帳樣板管理</title>
  <link rel="stylesheet" href="css/reconcile-templates.css"/>
</head>
<body>
<header>
  <div class="wrap row">
    <h1>⚙ 對帳樣板管理 <span class="tag">綁定 suppliers</span></h1>
    <div class="grow"></div>
  </div>
</header>

<main class="wrap">
  <section class="card">
    <div class="row">
      <strong>綁定供應商</strong>
      <select id="mgrSupplierSelect" style="min-width:300px"></select>
      <button class="btn outline" id="mgrLoad">載入該供應商樣板</button>
      <button class="btn" id="mgrSave">儲存到該供應商</button>
      <span class="small" id="mgrStatus"></span>
    </div>
    <div class="small">清單顯示「代號-簡稱」。此頁儲存後會寫回 suppliers/{id}.reconcileTemplate。</div>
  </section>

  <section class="card">
    <h3>樣板內容</h3>
    <div class="kv">
      <label>容忍值（元）</label>
      <input id="tolerance" type="number" step="0.01" value="3"/>
      <label>stripLines（每行一個關鍵字）</label>
      <textarea id="strip" class="code" placeholder="忽略行的關鍵字，一行一個"></textarea>
      <label>aliases（JSON 格式）</label>
      <textarea id="aliases" class="code" placeholder='{"KS2830":"不織布背景布"}'></textarea>
      <label>費用關鍵字（逗號分隔）</label>
      <input id="kwFreight" placeholder="運費, 服務費, 包裝費"/>
      <label>折讓關鍵字（逗號分隔）</label>
      <input id="kwDiscount" placeholder="折讓, 折扣"/>
      <label>標頭規則（自訂正則，群組1=日期、群組2=單號）</label>
      <input id="headerRegex" placeholder="留白使用預設規則"/>
    </div>
  </section>
</main>

<script src="js/reconcile-templates.js"></script>
</body>
</html>