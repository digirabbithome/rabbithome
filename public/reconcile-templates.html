<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8"/>
<title>對帳工具 POS 簡化版</title>
<link rel="stylesheet" href="css/reconcile.css"/>
</head>
<body>
<header class="wrap"><h1>📑 對帳工具（POS簡化版）</h1><div class="small">執行者：<span id="runner">—</span></div></header>
<main class="wrap">
<section class="card">
<h2>① POS 匯入</h2>
<input type="file" id="posFile" accept=".csv"/>
<button class="btn" id="loadPos">讀取 CSV</button>
<div class="small">選擇欄位</div>
<label>日期<select id="posColDate"></select></label>
<label>廠商<select id="posColVendor"></select></label>
<label>金額<select id="posColAmount"></select></label>
<button class="btn" id="applyPosMap">套用</button>
<table id="posTable"><thead><tr><th>日期</th><th>廠商</th><th>金額</th></tr></thead><tbody></tbody></table>
<div class="small">POS 合計：<span id="posTotal">0</span></div>
</section>

<section class="card">
<h2>② 廠商對帳單</h2>
<input type="file" id="imgFiles" multiple accept="image/*"/>
<button class="btn" id="runOcr">OCR 文字辨識</button>
<div class="progress"><div class="bar" id="ocrBar"></div></div><div id="ocrStatus" class="small">尚未開始</div>
<button class="btn" id="smartParse">智慧解析</button>
<table id="venTable"><thead><tr><th>品名</th><th>數量</th><th>單價</th><th>小計</th></tr></thead><tbody></tbody></table>
<div class="small">廠商合計：<span id="venTotal">0</span></div>
</section>
</main>
<script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tesseract.js/5.1.0/tesseract.min.js"></script>
<script type="module" src="js/reconcile-templates.js"></script>
</body>
</html>