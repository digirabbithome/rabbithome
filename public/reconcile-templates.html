<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>廠商模板管理器</title>
  <link rel="stylesheet" href="css/reconcile-templates.css"/>
</head>
<body>
<header>
  <div class="wrap row">
    <h1>📦 廠商模板管理器 <span class="tag">可離線／可接 Firestore／可列印手冊</span></h1>
    <div class="grow"></div>
    <div class="small">共 <span id="count">0</span> 筆模板</div>
  </div>
</header>

<main class="wrap grid">
  <section class="card">
    <div class="row" style="justify-content:space-between">
      <div class="small">模板清單</div>
      <div class="row">
        <button class="btn ghost" onclick="newTemplate()">新增</button>
        <button class="btn outline" onclick="exportAll()">匯出 JSON</button>
        <label class="btn outline" for="imp">匯入 JSON</label>
        <input id="imp" type="file" accept="application/json" style="display:none" onchange="importAll(event)"/>
      </div>
    </div>
    <ul id="tplList" class="list"></ul>
  </section>

  <section class="card">
    <h3 id="formTitle">新增 / 編輯模板</h3>
    <div class="kv">
      <label>廠商名稱</label>
      <input id="vendorName" placeholder="例如：勤力屋 / Godox / 億亞尚"/>
      <label>容忍值（元）</label>
      <input id="tolerance" type="number" step="0.01" value="3"/>
      <label>stripLines（每行一個關鍵字）</label>
      <textarea id="strip" class="code" placeholder="忽略行的關鍵字，一行一個"></textarea>
      <label>aliases（JSON 格式）</label>
      <textarea id="aliases" class="code" placeholder='{"KS2830":"不織布背景布"}'></textarea>
    </div>
    <div class="footer">
      <button class="btn" onclick="saveTemplate()">儲存</button>
    </div>
    <p class="small">說明：stripLines：含有任一關鍵字的行會在 OCR 解析時被忽略。aliases：把 OCR 辨識到的文字做名稱統一。</p>
  </section>
</main>

<script src="js/reconcile-templates.js"></script>
</body>
</html>