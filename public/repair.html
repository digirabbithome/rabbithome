
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>維修主控台</title>
  <link rel="stylesheet" href="/css/repair.css" />
  <script type="module" src="/js/repair.js"></script>
</head>
<body>
  <div class="page-wrapper">
    <div id="top-buttons">
      <button id="btn-list">📋 維修列表</button>
      <button id="btn-new">➕ 新增維修單</button>
    </div>

    <div id="section-list">
      <div id="filter-buttons">
        <button class="active" data-status="all">全部</button>
        <button data-status="1">新進維修</button>
        <button data-status="2">已交付廠商</button>
        <button data-status="3">維修完成</button>
        <button data-status="4">客人已取貨</button>
      </div>

      <div id="search-bar">
        <input type="text" id="search-id" placeholder="搜尋維修單號" />
        <input type="text" id="search-keyword" placeholder="搜尋姓名/電話/廠商/狀況" />
      </div>

      <table>
        <thead>
          <tr>
            <th data-sort="createdAt">送修時間</th>
            <th data-sort="repairId">維修單號</th>
            <th data-sort="customer">姓名</th>
            <th data-sort="supplier">廠商</th>
            <th data-sort="product">商品</th>
            <th data-sort="description">描述</th>
            <th data-sort="status">狀態</th>
            <th>維修天數</th>
            <th>編輯</th>
          </tr>
        </thead>
        <tbody id="repair-list">
          <tr><td colspan="9">🔄 載入中...</td></tr>
        </tbody>
      </table>
      <div id="pagination"></div>
    </div>

    <div id="section-new" style="display: none;">
      <form id="repair-form">
        <h3>🛠️ 新增維修單</h3>
        <input type="text" id="repair-id" placeholder="維修單號" />
        <button type="button" id="generate-id">產生單號</button><br/>
        <input type="text" id="customer" placeholder="客人姓名" />
        <input type="text" id="phone" placeholder="電話" />
        <input type="text" id="address" placeholder="地址" />
        <input type="text" id="product" placeholder="商品" />
        <textarea id="description" placeholder="狀況描述"></textarea>
        <select id="warranty-select">
          <option value="">保固狀況</option>
          <option value="保內">保內</option>
          <option value="過保">過保</option>
        </select>
        <select id="supplier-select">
          <option value="">選擇廠商</option>
        </select>
        <input type="file" id="photo-upload" multiple />
        <button type="submit">送出維修單</button>
      </form>
    </div>
  </div>
</body>
</html>
