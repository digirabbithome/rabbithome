<!DOCTYPE html>
<html lang="zh-Hant">
 <head>
  <meta charset="utf-8"/>
  <title>
   維修主控台
  </title>
  <link href="/css/repair.css" rel="stylesheet"/>
  <script defer="" src="/js/repair.js" type="module">
  </script>
 </head>
 <body>
  <div class="page-wrapper">
   <h2>
    🔧 維修主控台
   </h2>
   <div class="button-group">
    <button class="tab-btn" id="btn-add">
     ➕ 新增維修單
    </button>
    <button class="tab-btn" id="btn-list">
     📋 維修單列表
    </button>
   </div>
   <div id="list-section" style="display: block;">
    <div id="filter-buttons">
     <button data-status="all">
      全部
     </button>
     <button data-status="1">
      新進維修
     </button>
     <button data-status="2">
      已交付廠商
     </button>
     <button data-status="3">
      維修完成
     </button>
     <button data-status="4">
      客人已取貨
     </button>
    </div>
    <div id="search-bar">
     <input id="search-id" placeholder="🔍 維修單號" type="text"/>
     <input id="search-keyword" placeholder="🔍 姓名／電話／廠商／狀況" type="text"/>
    </div>
    <table id="repair-table">
     <thead>
      <tr>
       <th data-sort="createdAt">
        送修時間
       </th>
       <th data-sort="repairId">
        維修單號
       </th>
       <th data-sort="customer">
        姓名
       </th>
       <th data-sort="supplier">
        廠商
       </th>
       <th data-sort="product">
        商品
       </th>
       <th data-sort="description">
        描述
       </th>
       <th data-sort="status">
        狀態
       </th>
       <th data-sort="days">
        維修天數
       </th>
       <th>
        編輯
       </th>
      </tr>
     </thead>
     <tbody id="repair-list">
      <tr>
       <td colspan="9">
        🔄 載入中...
       </td>
      </tr>
     </tbody>
    </table>
    <div id="pagination">
    </div>
   </div>
   <div id="form-section" style="display: none;">
    <form id="repair-form">
     <table>
      <tr>
       <td>
        維修單號
       </td>
       <td>
        <input id="repair-id" placeholder="例如 R202507123456" type="text"/>
        <button id="generate-id" type="button">
         產生
        </button>
       </td>
       <td>
        姓名
       </td>
       <td>
        <input id="customer" type="text"/>
       </td>
      </tr>
      <tr>
       <td>
        電話
       </td>
       <td>
        <input id="phone" type="text"/>
       </td>
       <td>
        地址
       </td>
       <td>
        <input id="address" type="text"/>
       </td>
      </tr>
      <tr>
       <td>
        商品
       </td>
       <td colspan="3">
        <input id="product" style="width: 98%;" type="text"/>
       </td>
      </tr>
      <tr>
       <td>
        描述
       </td>
       <td colspan="3">
        <textarea id="description" rows="3"></textarea>
       </td>
      </tr>
      <tr>
       <td>
        保固狀況
       </td>
       <td>
        <select id="warranty-select">
         <option value="保內">
          有保卡（保固內）
         </option>
         <option value="過保">
          有保卡（過保）
         </option>
         <option value="無保">
          沒有保卡
         </option>
        </select>
       </td>
       <td>
        廠商
       </td>
       <td>
        <select id="supplier-select">
        </select>
       </td>
      </tr>
      <tr>
       <td>
        上傳照片
       </td>
       <td colspan="3">
        <input id="photo-upload" multiple="" type="file"/>
       </td>
      </tr>
     </table>
     <button class="submit-btn" type="submit">
      送出維修單
     </button>
    </form>
   </div>
  </div>
  <script>
   document.addEventListener('DOMContentLoaded', () => {
  const btnAdd = document.getElementById('btn-add');
  const btnList = document.getElementById('btn-list');
  const formSection = document.getElementById('form-section');
  const listSection = document.getElementById('list-section');

  btnAdd.addEventListener('click', () => {
    formSection.style.display = 'block';
    listSection.style.display = 'none';
  });

  btnList.addEventListener('click', () => {
    formSection.style.display = 'none';
    listSection.style.display = 'block';
  });
});
  </script>
 </body>
</html>
